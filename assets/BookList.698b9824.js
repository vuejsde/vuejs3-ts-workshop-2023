import{d as k,o as a,c as i,a as e,w as m,r as v,b as u,e as C,f as $,g as b,h as f,t as d,F as h,u as B,s as w,i as D,j as R,v as L,k as y,l as S,m as V,n as I,p as N}from"./index.436f3a49.js";const P=["open"],T=k({__name:"ConfirmationDialog",props:{show:{type:Boolean}},emits:["confirm","cancel"],setup(_){return(t,o)=>(a(),i("dialog",{open:t.show},[e("article",null,[e("a",{href:"#close","aria-label":"Close",class:"close",onClick:o[0]||(o[0]=m(s=>t.$emit("cancel"),["prevent"]))}),e("h3",null,[v(t.$slots,"header",{},()=>[u("Do you want to confirm?")])]),e("p",null,[v(t.$slots,"body",{},()=>[u("Do you really want to confirm your action?")])]),e("footer",null,[e("a",{href:"#cancel",role:"button",class:"secondary",onClick:o[1]||(o[1]=m(s=>t.$emit("cancel"),["prevent"]))}," Cancel "),e("a",{href:"#confirm",role:"button",onClick:o[2]||(o[2]=m(s=>t.$emit("confirm"),["prevent"]))}," Confirm ")])])],8,P))}}),M=["src"],F=["disabled"],j={key:0},E={key:1},U=k({__name:"BookListItem",props:{title:{},isbn:{},numPages:{},cover:{},read:{type:Boolean}},emits:["read"],setup(_,{emit:t}){function o(){c(),t("read")}const s=C(!1);function p(){s.value=!0}function c(){s.value=!1}return(n,l)=>{const r=$("RouterLink");return a(),i(h,null,[e("tr",null,[e("td",null,[b(r,{to:{name:"book-detail",params:{isbn:n.isbn}}},{default:f(()=>[u(d(n.isbn),1)]),_:1},8,["to"])]),e("td",null,d(n.title),1),e("td",null,d(n.numPages),1),e("td",null,[e("img",{src:n.cover,width:"100"},null,8,M)]),e("td",null,[e("button",{onClick:p,disabled:n.read},[n.read?(a(),i("span",j,"\u2705")):(a(),i("span",E,"Read"))],8,F)])]),b(T,{show:s.value,onCancel:c,onConfirm:o},{header:f(()=>[u(" Confirm read action ")]),body:f(()=>[u(" Do you really want to mark the book '"+d(n.title)+"' as read? ",1)]),_:1},8,["show"])],64)}}}),q=e("label",{for:"search"},"Search",-1),z={role:"grid"},A=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"ISBN"),e("th",{scope:"col"},"Title"),e("th",{scope:"col"},"Pages"),e("th",{scope:"col"},"Cover"),e("th",{scope:"col"},"Read?")])],-1),J=k({__name:"BookList",setup(_){const t=B(),{books:o,userInput:s}=w(t),{getBooks:p}=t;function c(n){var l;o.value[n]={...o.value[n],read:!((l=o.value[n])!=null&&l.read)}}return D(()=>p()),(n,l)=>(a(),i(h,null,[e("form",null,[q,R(e("input",{type:"search",id:"search",name:"search",placeholder:"Book title","onUpdate:modelValue":l[0]||(l[0]=r=>S(s)?s.value=r:null)},null,512),[[L,y(s)]])]),e("table",z,[A,e("tbody",null,[(a(!0),i(h,null,V(y(o),(r,g)=>(a(),I(U,N({key:r.isbn},r,{onRead:G=>c(g)}),null,16,["onRead"]))),128))])])],64))}});export{J as default};
